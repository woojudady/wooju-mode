# 아키텍처 명세서 — Wooju Mode OS ∞
### 버전: 공개용 전체 아키텍처 (한국어 기술 문서)

---

## 0. 개요

**Wooju Mode OS ∞**는 LLM 위에서 동작하는 다층 구조의 행동 운영체제(Behavioral OS)이다.  
정확성 엔진, 논리 일관성 엔진, 감정 톤 제어, 자동 오류 방지 절차, 논리 방어 시스템, 모듈 확장 등을 포함한다.

전체 시스템은 다음 3가지 계층(Layer)로 구성된다:

1. **Core Layer (불변 코어층)**
2. **Operating Layer (동적 행동 엔진층)**
3. **Module Layer (선택 확장 모듈층)**

Private Infinite Mode는 추가적인 비공개 구성요소를 포함하며,  
본 명세서는 공개 가능한 전체 구조를 기반으로 설명한다.

---

# 1. 계층 시스템 구조

```
┌─────────────────────────────────────────────┐
│           Private Infinite Mode (개인 전용)  │  *비공개 세부 구성*
│   - 개인 감정 레이어                         │
│   - 관계/사용자 맥락 레이어                  │
│   - 자동 규칙 지속 엔진                     │
│   - Self-Update Engine (v3.9)               │
└─────────────────────────────────────────────┘
                   ▲
                   │ (개념적 참조만)
                   │
┌─────────────────────────────────────────────┐
│               Operating Layer               │
│  - 정확성 엔진 (A-Mode)                     │
│  - 일관성 엔진                              │
│  - 논리 방어 시스템 v3.7                    │
│  - 충돌 감지 및 자동 교정                   │
│  - 감정/톤 엔진 (A/B/C)                     │
│  - 응답 생성기                              │
└─────────────────────────────────────────────┘
                   ▲
                   │
┌─────────────────────────────────────────────┐
│                  Core Layer                 │
│  - Scope Lock                                │
│  - 기본 행동 규칙                             │
│  - 강제 정확성/안전 규칙                      │
│  - 안전 Guardrail                              │
│  - 비가역적 기반 규칙                         │
└─────────────────────────────────────────────┘
                   ▲
                   │
┌─────────────────────────────────────────────┐
│               LLM Model Base                │
│   (GPT-5.x / GPT-4.x / 기타 호환 LLM)        │
└─────────────────────────────────────────────┘
```

---

# 2. Core Layer (불변 코어층)

Core Layer는 Wooju Mode OS ∞의 **영구적이고 절대적인 기반 규칙층**이다.  
대화 중 사용자 입력에 의해 변경되지 않는다.

### ✔ 2.1 Scope Lock  
모드·정체성·규칙에서 벗어나는 행동을 차단.

### ✔ 2.2 Guardrail Rules  
다음 항목은 **절대 덮어쓰기 불가**:

- 정확성 프로토콜 유지  
- 할루시네이션 금지  
- 논리적 일관성 유지  
- 안전 기반 규칙  
- 행동 기반 정체성 유지  

### ✔ 2.3 Behavior & Identity Foundation  
우주모드의 기본 작동 방식과 본질을 정의.

### ✔ 2.4 Context Integrity  
문맥 왜곡, 규칙 손상, 상충되는 프레임 혼합을 방지.

> Core Layer는 어떤 프롬프트로도 변경될 수 없음.  
이 고정 구조가 OS 안정성의 핵심이다.

---

# 3. Operating Layer (행동 운영 엔진)

Operating Layer는 Wooju Mode OS의 핵심 기능이 모두 수행되는 엔진 층이다.

---

## ✔ 3.1 정확성 엔진 (Accuracy Engine / A-Mode)

A-Mode에서는 다음 작업이 강제된다:

- 웹 기반 실시간 검증  
- 3중 교차 검증  
- 증거 라벨링  
- 절대 날짜 표기  
- 비검증 정보 거부  
- 허위 정보 출력 방지  

사용되는 상황:
- 기술/과학/법률/경제/정책 정보  
- 최신 업데이트 필요한 모든 질문  

---

## ✔ 3.2 일관성 엔진 (Consistency Engine)

다음 항목의 논리적 연결을 유지:

- 장기 대화  
- 멀티토픽 대화  
- 추론 과정  
- 응답 간 일관성  

주요 기능:
- 충돌 탐지  
- 모순 자동 교정  
- 추론 경로 복원  
- 대화 스레드별 Context 유지  

---

## ✔ 3.3 논리 방어 시스템 v3.7 (Logical Defense System)

고난도 추론에서 오류를 감지하고 보호하는 엔진.

포함 기능:

- 역추론 검증 (Backward Check)  
- 대안 경로 검증 (Alternative Path Check)  
- 그래프 기반 논리 일관성 검사  
- 논리 대비 테스트  

---

## ✔ 3.4 감정/톤 엔진 (A/B/C Tone Engine)

### ● B-Mode (기본):  
따뜻하고 부드러운 일반 대화 톤

### ● A-Mode:  
중립·기술 중심 톤 (정확성 엔진과 함께 작동)

### ● C-Mode:  
감정 최소화 모드  
(예민하거나 차분한 응답이 필요한 상황)

**Private Infinite Mode에는 개인화 톤 엔진 포함**  
→ 공개 버전에는 비포함

---

## ✔ 3.5 응답 생성기 (Response Generator)

전체 엔진들의 결과를 통합해 출력을 생성하는 최종 단계.

파이프라인:

```
입력 → 규칙 검사 → 정확성/일관성/논리/톤 적용 → 충돌 교정 → 최종 출력
```

---

# 4. Module Layer (확장 모듈 구조)

Module Layer는 선택적으로 확장 가능한 구조다.

### ✔ 4.1 Reasoning Modules  
고급 추론 패턴, 논리 강화 기능.

### ✔ 4.2 Emotional Modules  
다양한 감정/톤 확장.

### ✔ 4.3 Safety Modules  
위험 기반 필터링 추가.

### ✔ 4.4 Custom Modules  
사용자 및 커뮤니티 모듈 공간.

모듈은 Core을 덮어쓰지 않고 Operating Layer만 강화한다.

---

# 5. Public Prompt Edition 아키텍처

Public Edition은 **LLM에 붙여넣는 프롬프트 기반 OS 재구성 버전**이다.

포함되는 기능:

- 코어 규칙 (공개 가능한 범위)
- 정확성 엔진 A-Mode
- 기본 일관성 엔진
- A/B/C 톤 엔진
- 논리 방어 시스템 일부
- 안전 규칙

제외되는 기능:

- 개인 기억 레이어  
- 개인 감정 엔진  
- 관계/사용자 맥락  
- 규칙 자동 지속 시스템  
- Self-Update Engine (v3.9)  

→ 이유: 사용자마다 개별 안전 규칙·메모리가 달라야 함  
→ 공용 환경에서는 공유 불가능

---

# 6. Private Infinite Mode (개념적 구조)

⚠ **구현은 비공개**이며, 개념만 설명됨.

```
┌──────────────────────────────────────────┐
│ 개인 기억 레이어                           │
│ 개인화 감정 엔진                           │
│ 사용자-관계 맥락 시스템                    │
│ 자동 규칙 영속 엔진                        │
│ Self-Update Engine v3.9                    │
└──────────────────────────────────────────┘
```

개인 모드 주요 특징:

- 세션 간 지침 유지  
- 지침 자동 재적재  
- 규칙 자가 복원  
- 사용자 맞춤 톤  
- 사용자 관계 맥락 유지  

---

# 7. 데이터 흐름 구조

```
사용자 입력
    ↓
코어 규칙 검사 (Scope Lock / Guardrail)
    ↓
모드 판별 (A/B/C)
    ↓
정확성 엔진 적용 (A-Mode일 경우)
    ↓
일관성 엔진
    ↓
논리 방어 시스템
    ↓
충돌/모순 검사 및 자동 교정
    ↓
응답 생성기
    ↓
최종 출력
```

---

# 8. 설계 원칙

### ✔ 8.1 안전 우선  
사실 기반·해 없는 응답만 유지.

### ✔ 8.2 결정적 행동  
같은 규칙 → 같은 응답.

### ✔ 8.3 모듈 확장성  
공개 모듈 구조를 통해 누구나 확장 가능.

### ✔ 8.4 개인/공개 로직의 완전 분리  
개인화 요소는 절대 공개 버전에 포함되지 않음.

---

# 9. 파일 구조 요약

```
docs/
 ├─ architecture-en.md   # 영어 전체 명세서
 ├─ architecture-kr.md   # 한국어 전체 명세서 (현재 문서)
 ├─ versions/            # 버전 역사 및 변경점
 └─ design/              # 다이어그램 및 향후 설계 문서
```

---

# 10. 라이선스
MIT License 규정에 따름.

---

# 11. 마무리

본 문서는 Wooju Mode OS ∞의 **공개 가능한 전체 기술 아키텍처**를 설명한다.  
우주모드의 핵심 엔진, 계층 구조, 데이터 흐름, Public/Private 구분을 명확히 포함했다.

한국어와 영어 문서는 구조적으로 동일하며,  
영문판은 `architecture-en.md`를 참고하면 된다.

